<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inclusive Pattern Puzzle</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background: #f5f5f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            max-width: 900px;
            width: 100%;
        }

        h1 {
            text-align: center;
            color: #2563eb;
            font-size: 2.5em;
            margin-bottom: 30px;
            font-weight: bold;
        }

        .controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .control-btn {
            padding: 15px 30px;
            font-size: 1.3em;
            border: 3px solid #2563eb;
            background: white;
            color: #2563eb;
            border-radius: 12px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.2s;
        }

        .control-btn.active {
            background: #2563eb;
            color: white;
        }

        .control-btn:hover {
            transform: scale(1.05);
        }

        .settings {
            background: #f0f9ff;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
        }

        .settings label {
            font-size: 1.2em;
            font-weight: bold;
            color: #2563eb;
            margin-right: 15px;
        }

        .settings input[type="range"] {
            width: 200px;
            height: 8px;
            margin: 0 10px;
        }

        .settings span {
            font-size: 1.3em;
            font-weight: bold;
            color: #2563eb;
        }

        .instruction {
            text-align: center;
            font-size: 1.8em;
            color: #1e40af;
            margin-bottom: 40px;
            font-weight: bold;
            line-height: 1.6;
            padding: 20px;
            background: #dbeafe;
            border-radius: 15px;
        }

        .pattern-display {
            background: white;
            border: 4px solid #2563eb;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 25px;
            flex-wrap: wrap;
            min-height: 200px;
        }

        .pattern-item {
            width: 120px;
            height: 120px;
            border-radius: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 5em;
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
            border: 4px solid #1e40af;
        }

        .mystery-box {
            background: #fef3c7;
            border: 6px dashed #2563eb;
            font-size: 4em;
            color: #2563eb;
            font-weight: bold;
        }

        .options-container {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            margin-bottom: 40px;
        }

        .option {
            width: 140px;
            height: 140px;
            border-radius: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 5.5em;
            cursor: pointer;
            transition: transform 0.2s;
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
            border: 5px solid #1e40af;
        }

        .option:hover {
            transform: scale(1.15);
        }

        .option.correct {
            border-color: #16a34a;
            border-width: 8px;
        }

        .option.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .feedback {
            text-align: center;
            font-size: 2.5em;
            min-height: 80px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 30px;
            font-weight: bold;
        }

        .feedback.correct {
            color: #16a34a;
        }

        .feedback.encouraging {
            color: #2563eb;
        }

        .score-board {
            display: flex;
            justify-content: center;
            gap: 50px;
            margin-bottom: 30px;
            font-size: 1.8em;
            color: #2563eb;
            font-weight: bold;
        }

        .score-item {
            background: #dbeafe;
            padding: 15px 30px;
            border-radius: 15px;
            border: 3px solid #2563eb;
        }

        .btn {
            display: block;
            margin: 0 auto;
            padding: 20px 50px;
            font-size: 1.5em;
            background: #16a34a;
            color: white;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.2s;
        }

        .btn:hover {
            transform: scale(1.08);
            background: #15803d;
        }

        .celebration {
            text-align: center;
            font-size: 3em;
            color: #16a34a;
            display: none;
            margin: 30px 0;
            font-weight: bold;
            padding: 30px;
            background: #dcfce7;
            border-radius: 20px;
            border: 5px solid #16a34a;
        }

        .accessibility-note {
            background: #fef3c7;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.2em;
            color: #92400e;
            border: 3px solid #fbbf24;
        }

        @media (max-width: 768px) {
            .pattern-item {
                width: 90px;
                height: 90px;
                font-size: 3.5em;
            }
            
            .option {
                width: 100px;
                height: 100px;
                font-size: 4em;
            }

            h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Pattern Puzzle</h1>

        <div class="accessibility-note">
            âœ¨ Designed for ALL learners âœ¨<br>
            No time limits â€¢ Clear visuals â€¢ Positive encouragement
        </div>

        <div class="controls">
            <button class="control-btn active" onclick="setDifficulty('easy')">Easy</button>
            <button class="control-btn" onclick="setDifficulty('medium')">Medium</button>
        </div>

        <div class="settings">
            <label>Item Size:</label>
            <input type="range" id="sizeSlider" min="80" max="150" value="120" oninput="adjustSize(this.value)">
            <span id="sizeValue">120px</span>
        </div>
        
        <div class="score-board">
            <div class="score-item">Level: <span id="level">1</span></div>
            <div class="score-item">Score: <span id="score">0</span></div>
        </div>

        <div class="instruction" id="instruction">What comes next?</div>

        <div class="pattern-display" id="patternDisplay"></div>

        <div class="feedback" id="feedback"></div>

        <div class="options-container" id="optionsContainer"></div>

        <div class="celebration" id="celebration">
            ðŸŽ‰ AMAZING JOB! ðŸŽ‰<br>
            You're doing great!
        </div>

        <button class="btn" onclick="nextPattern()">Next Pattern</button>
    </div>

    <script>
        const easyPatterns = [
            { sequence: ['ðŸ”´', 'ðŸ”µ', 'ðŸ”´'], answer: 'ðŸ”µ', options: ['ðŸ”µ', 'ðŸ”´'] },
            { sequence: ['ðŸ˜Š', 'ðŸ˜Š', 'â­'], answer: 'ðŸ˜Š', options: ['ðŸ˜Š', 'â­'] },
            { sequence: ['ðŸŽ', 'ðŸŒ', 'ðŸŽ'], answer: 'ðŸŒ', options: ['ðŸŽ', 'ðŸŒ'] },
            { sequence: ['ðŸ¶', 'ðŸ±', 'ðŸ¶'], answer: 'ðŸ±', options: ['ðŸ¶', 'ðŸ±'] },
            { sequence: ['âš½', 'ðŸ€', 'âš½'], answer: 'ðŸ€', options: ['âš½', 'ðŸ€'] }
        ];

        const mediumPatterns = [
            { sequence: ['ðŸ”´', 'ðŸ”´', 'ðŸ”µ', 'ðŸ”´'], answer: 'ðŸ”´', options: ['ðŸ”´', 'ðŸ”µ', 'ðŸŸ¡'] },
            { sequence: ['â­', 'ðŸŒ™', 'â­', 'ðŸŒ™'], answer: 'â­', options: ['â­', 'ðŸŒ™', 'â˜€ï¸'] },
            { sequence: ['ðŸŽ', 'ðŸŠ', 'ðŸ‹', 'ðŸŽ'], answer: 'ðŸŠ', options: ['ðŸŽ', 'ðŸŠ', 'ðŸ‹'] },
            { sequence: ['ðŸ˜Š', 'ðŸ˜Š', 'ðŸ˜„', 'ðŸ˜Š'], answer: 'ðŸ˜Š', options: ['ðŸ˜Š', 'ðŸ˜„', 'ðŸ˜'] }
        ];

        let currentDifficulty = 'easy';
        let currentPatterns = easyPatterns;
        let currentLevel = 0;
        let score = 0;
        let canAnswer = true;

        function displayPattern() {
            const pattern = currentPatterns[currentLevel];
            const display = document.getElementById('patternDisplay');
            const optionsContainer = document.getElementById('optionsContainer');
            
            display.innerHTML = '';
            optionsContainer.innerHTML = '';
            
            pattern.sequence.forEach(item => {
                const div = document.createElement('div');
                div.className = 'pattern-item';
                div.textContent = item;
                div.style.background = getItemColor(item);
                display.appendChild(div);
            });
            
            const mysteryBox = document.createElement('div');
            mysteryBox.className = 'pattern-item mystery-box';
            mysteryBox.textContent = '?';
            display.appendChild(mysteryBox);
            
            pattern.options.forEach(option => {
                const div = document.createElement('div');
                div.className = 'option';
                div.textContent = option;
                div.style.background = getItemColor(option);
                div.addEventListener('click', () => checkAnswer(option, div));
                optionsContainer.appendChild(div);
            });
            
            document.getElementById('feedback').textContent = '';
            document.getElementById('feedback').className = 'feedback';
            document.getElementById('celebration').style.display = 'none';
            canAnswer = true;
        }

        function getItemColor(emoji) {
            const colors = {
                'ðŸ”´': '#fca5a5', 'ðŸ”µ': '#93c5fd', 'ðŸŸ¡': '#fde047', 'ðŸŸ¢': '#86efac',
                'â­': '#fde047', 'ðŸŒ™': '#cbd5e1', 'â˜€ï¸': '#fbbf24',
                'ðŸŽ': '#fca5a5', 'ðŸŠ': '#fdba74', 'ðŸ‹': '#fde047', 'ðŸŒ': '#fef08a',
                'ðŸ¶': '#fed7aa', 'ðŸ±': '#fcd34d', 'ðŸ˜Š': '#fef08a', 'ðŸ˜„': '#fde047', 'ðŸ˜': '#fcd34d',
                'âš½': '#ffffff', 'ðŸ€': '#fdba74'
            };
            return colors[emoji] || '#e5e7eb';
        }

        function checkAnswer(selected, element) {
            if (!canAnswer) return;
            
            canAnswer = false;
            const pattern = currentPatterns[currentLevel];
            const feedback = document.getElementById('feedback');
            const allOptions = document.querySelectorAll('.option');
            
            allOptions.forEach(opt => opt.classList.add('disabled'));
            
            if (selected === pattern.answer) {
                element.classList.add('correct');
                feedback.textContent = 'âœ“ CORRECT! Great job!';
                feedback.className = 'feedback correct';
                score += 10;
                playCorrectSound();
                
                document.getElementById('score').textContent = score;
                
                setTimeout(() => {
                    currentLevel++;
                    if (currentLevel >= currentPatterns.length) {
                        document.getElementById('celebration').style.display = 'block';
                        playWinSound();
                        currentLevel = 0;
                        setTimeout(() => {
                            document.getElementById('level').textContent = 1;
                            displayPattern();
                        }, 3000);
                    } else {
                        document.getElementById('level').textContent = currentLevel + 1;
                        displayPattern();
                    }
                }, 2000);
            } else {
                feedback.textContent = 'Let\'s try another one!';
                feedback.className = 'feedback encouraging';
                
                setTimeout(() => {
                    displayPattern();
                }, 1500);
            }
        }

        function setDifficulty(level) {
            currentDifficulty = level;
            currentPatterns = level === 'easy' ? easyPatterns : mediumPatterns;
            currentLevel = 0;
            
            document.querySelectorAll('.control-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            document.getElementById('level').textContent = 1;
            displayPattern();
        }

        function adjustSize(value) {
            document.getElementById('sizeValue').textContent = value + 'px';
            document.querySelectorAll('.pattern-item, .option').forEach(el => {
                el.style.width = value + 'px';
                el.style.height = value + 'px';
            });
        }

        function playCorrectSound() {
            const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUKbh7bJnHwU7k9n0yHkpBSp+y/Delj8LFmG26+mmVBELR6Hf8bllHAUpgs/z3IowBxtra/Hqn1APDk+k4+qzaB8GM5PY88p5KwUrf8vw3pVBDBVhtuvopVUSC0ei4PKzYSMFKoLP8t2JNQUYZ7zt451IDAJIo+LqsWQcBzWR2PTIeSsFK4DN8d6UQQwVYbbs6KZWEgtJouDvs2IfBSuBzvLciTcIG2m88OOdTAwOT6bi67FnHgU6k9jzyHgrBSt/y+/dlEAMFF+06+mlVRIKSKHe7rJkHQUqgc3y3Yo3Bxpquu/jnU4MDU+k4eqxZh0FO5PY88p5KwUrfsrv3JY/CxRhterpplYSC0mh3+6yZB4FKoHO8tyKNwcaam/w4p1PDQ1PpOHqsWYdBTuT2PTKeSwFKn7K792UQAoVX7Tr6aVWEQpIot/vsmQeBSqBzvLcijYHGmpt7+OdTgwNT6Th6rFmHQU7k9jzynosBSp+yu/dlEAKFF+z6+ilVhEKSKLf77NlHgUrgs7y3Io2Bhpqbe/jnU4MDU+j4eqxZh4FO5PY88p5KwUqfsrv3ZVADBRQ=');
            audio.volume = 0.3;
            audio.play().catch(() => {});
        }

        function playWinSound() {
            for (let i = 0; i < 3; i++) {
                setTimeout(() => playCorrectSound(), i * 200);
            }
        }

        function nextPattern() {
            displayPattern();
        }

        displayPattern();
    </script>
</body>
</html>